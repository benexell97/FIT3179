{
 "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
 "title": "Suicide Rate By Country",
 "width": 800,
 "height": 600,
 "projection": {"type": "equalearth"},
 "data": {
 "url": "https://raw.githubusercontent.com/benexell97/FIT3179/gh-pages/js/worldmap.topojson",
 "format": {"type": "topojson", "feature": "custom"}
 },

 "transform": [
   {
     "lookup": "properties.name",
     "from": {
       "data": {
         "url": "https://raw.githubusercontent.com/benexell97/FIT3179/gh-pages/data/suicide_averages.csv"
       },
       "key": "Country",
       "fields": ["SuicideRate"]
     }
   }
 ],
 "mark": {"type": "geoshape"},
 "encoding": {
     "color": {
       "field": "SuicideRate",
       "type": "quantitative",
       "scale": {
       "type": "threshold",
       "domain": [0, 15, 45],
       "range": ["#fdbe85", "#fd8d3c", "#e6550d", "#a63603"]
     }
   },
   "tooltip": [
     {"field": "properties.name", "type": "nominal", "title": "Country"},
     {"field": "SuicideRate", "type": "quantitative", "format": ".2f","title":"Suicide Rate Per 100,000"}
   ]
 }
}
